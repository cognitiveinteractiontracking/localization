<?xml version="1.0"?>
<launch>

  <arg name="id" default="0"/>
  <arg name="tracker" default="artoolkit5"/>

  <node pkg="robot_localization" type="ekf_localization_node" name="ekf_wheel_odometry_$(arg id)" output="screen" > 

    <!-- Frequency of the main run loop. -->
    <param name="frequency" value="30"/>
    
    <!-- Should be inverse of minimum frequency of the cameras FPS -->
    <param name="sensor_timeout" value="1.0"/>

    <param name="map_frame" value="map"/>
    <param name="odom_frame" value="world"/>
    <param name="base_link_frame" value="base_link_$(arg id)/base_link"/>
    <param name="world_frame" value="world"/>
    <param name="two_d_mode" value="true"/>

    <remap from="odometry/filtered" to="odometry/filtered/$(arg id)"/>


    <param name="odom0" value="/$(arg tracker)1_2/cam/odom/$(arg id)"/>
    <rosparam param="odom0_config">[true,  true,  true,
                                    true, true, true,
                                    false, false, false,
                                    false, false, false,
                                    false, false, false]</rosparam>
    <param name="odom0_differential" value="false"/>
    <param name="odom0_relative" value="false"/>

    <param name="odom1" value="/$(arg tracker)2_2/cam/odom/$(arg id)"/>
    <rosparam param="odom1_config">[true,  true,  true,
                                    true, true, true,
                                    false, false, false,
                                    false, false, false,
                                    false, false, false]</rosparam>
    <param name="odom1_differential" value="false"/>
    <param name="odom1_relative" value="false"/>

    <param name="odom2" value="/$(arg tracker)3_2/cam/odom/$(arg id)"/>
    <rosparam param="odom2_config">[true,  true,  true,
                                    true, true, true,
                                    false, false, false,
                                    false, false, false,
                                    false, false, false]</rosparam>
    <param name="odom2_differential" value="false"/>
    <param name="odom2_relative" value="false"/>

    <param name="odom3" value="/$(arg tracker)4_2/cam/odom/$(arg id)"/>
    <rosparam param="odom3_config">[true,  true,  true,
                                    true, true, true,
                                    false, false, false,
                                    false, false, false,
                                    false, false, false]</rosparam>
    <param name="odom3_differential" value="false"/>
    <param name="odom3_relative" value="false"/>

    <param name="odom4" value="/$(arg tracker)5_2/cam/odom/$(arg id)"/>
    <rosparam param="odom4_config">[true,  true,  true,
                                    true, true, true,
                                    false, false, false,
                                    false, false, false,
                                    false, false, false]</rosparam>
    <param name="odom4_differential" value="false"/>
    <param name="odom4_relative" value="false"/>

    <!--<param name="odom5" value="/$(arg tracker)_cam1/cam/odom/$(arg id)"/>-->
    <!--<rosparam param="odom5_config">[true,  true,  true,-->
                                    <!--true, true, true,-->
                                    <!--false, false, false,-->
                                    <!--false, false, false,-->
                                    <!--false, false, false]</rosparam>-->
    <!--<param name="odom5_differential" value="false"/>-->
    <!--<param name="odom5_relative" value="false"/>-->

    <!--<param name="odom6" value="/$(arg tracker)_cam2/cam/odom/$(arg id)"/>-->
    <!--<rosparam param="odom6_config">[true,  true,  true,-->
                                    <!--true, true, true,-->
                                    <!--false, false, false,-->
                                    <!--false, false, false,-->
                                    <!--false, false, false]</rosparam>-->
    <!--<param name="odom6_differential" value="false"/>-->
    <!--<param name="odom6_relative" value="false"/>-->

    <!--<param name="odom7" value="/$(arg tracker)_cam3/cam/odom/$(arg id)"/>-->
    <!--<rosparam param="odom7_config">[true,  true,  true,-->
                                    <!--true, true, true,-->
                                    <!--false, false, false,-->
                                    <!--false, false, false,-->
                                    <!--false, false, false]</rosparam>-->
    <!--<param name="odom7_differential" value="false"/>-->
    <!--<param name="odom7_relative" value="false"/>-->

    <!--<param name="odom8" value="/$(arg tracker)/cam/odom/$(arg id)"/>-->
    <!--<rosparam param="odom8_config">[true,  true,  true, -->
                                    <!--true, true, true, -->
                                    <!--false, false, false, -->
                                    <!--false, false, false,-->
                                    <!--false, false, false]</rosparam>-->
    <!--<param name="odom8_differential" value="false"/>-->
    <!--<param name="odom8_relative" value="false"/>-->

    <!--     <param name="odom0_pose_rejection_threshold" value="0.1"/> -->
    <!--     <param name="odom1_pose_rejection_threshold" value="0.1"/> -->
    <!--     <param name="odom2_pose_rejection_threshold" value="0.1"/> -->
    <!--     <param name="odom3_pose_rejection_threshold" value="0.1"/> -->
    
  </node>

</launch>